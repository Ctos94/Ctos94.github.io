import{_ as C,A as m,r as a,o as r,e as s,w as o,b as u,l as v,h,a as f}from"./index-d815b49d.js";const _="pushdeer_key",$={data(){return{value:""}},beforeMount(){this.$store.commit("update_sider_active","/user/pushdeer")},mounted(){this.$request.get({url:m.user.attribute.get,params:{name:_},loading:{target:"#input"}}).then(e=>{this.value=e})},methods:{async save(e){const{valid:t}=await this.$refs.form.validate();t&&this.$request.post({url:m.user.attribute.save,data:{name:_,value:e},loading:{target:"#input"}}).then(()=>{this.$refs.edit.save()})},del:function(){this.$request.delete({url:m.user.attribute.delete,data:{name:_},loading:{target:"#input"}}).then(()=>{this.value=""})}}},x=h("h3",null,[f(" 在使用前请先了解什么是"),h("a",{href:"https://github.com/easychen/pushdeer",target:"_blank"},"PushDeer"),f("，本功能使用官方在线版本。 ")],-1);function q(e,t,w,N,l,p){const d=a("v-btn"),g=a("v-text-field"),k=a("v-confirm-edit"),b=a("v-form"),V=a("v-sheet"),y=a("v-container");return r(),s(y,null,{default:o(()=>[x,u(V,null,{default:o(()=>[u(b,{id:"input",ref:"form",style:{width:"60%"}},{default:o(()=>[u(k,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=n=>l.value=n),ref:"edit"},{default:o(({model:n,actions:B,isPristine:i})=>[u(g,{"hide-details":"",density:"compact",variant:"outlined",class:"my-4",rules:[e.$validator.required],label:"Key",modelValue:n.value,"onUpdate:modelValue":c=>n.value=c},{append:o(()=>[!l.value||!i?(r(),s(d,{key:0,color:"blue-lighten-1",onClick:c=>p.save(n.value),text:"保存"},null,8,["onClick"])):v("",!0),i?v("",!0):(r(),s(d,{key:1,class:"ml-2",color:"grey-lighten-3",onClick:t[0]||(t[0]=c=>e.$refs.edit.cancel()),text:"取消"})),l.value&&i?(r(),s(d,{key:2,color:"red-darken-1",onClick:p.del,text:"删除"},null,8,["onClick"])):v("",!0)]),_:2},1032,["rules","modelValue","onUpdate:modelValue"])]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1})}const A=C($,[["render",q]]);export{A as default};
