import{_ as e,A as a,r as s,o as l,e as r,w as t,b as o,f as d}from"./index-9875c5e6.js";import{S as i}from"./sm-63615688.js";const n=e({data:()=>({loading:!1,form:{password:"",confirm:""}}),beforeMount(){this.$store.commit("update_sider_active","/user/password")},methods:{async save(){const{valid:e}=await this.$refs.form.validate();e&&(this.loading=!0,this.$request.put({url:a.user.password,data:{password:i(this.form.confirm)}}).then((()=>{this.$message.success("修改成功"),this.$refs.form.reset()})).finally((()=>{this.loading=!1})))},validatePwd:e=>e.length<6||e.length>18?"长度6-18位":!!/(?!^(\d+|[a-zA-Z]+)$)^[a-zA-Z0-9]{6,}$/.test(e)||"必须是数字和字母",validatePwd2(e){return e===this.form.password||"两次输入密码不一致!"}}},[["render",function(e,a,i,n,u,m){const f=s("v-text-field"),p=s("v-btn"),v=s("v-form"),c=s("v-container");return l(),r(c,null,{default:t((()=>[o(v,{ref:"form",style:{width:"300px"},onSubmit:a[2]||(a[2]=d((()=>{}),["prevent"]))},{default:t((()=>[o(f,{modelValue:u.form.password,"onUpdate:modelValue":a[0]||(a[0]=e=>u.form.password=e),rules:[e.$validator.required,m.validatePwd],type:"password",variant:"underlined","validate-on":"blur",label:"新密码"},null,8,["modelValue","rules"]),o(f,{modelValue:u.form.confirm,"onUpdate:modelValue":a[1]||(a[1]=e=>u.form.confirm=e),rules:[e.$validator.required,m.validatePwd2],type:"password",variant:"underlined","validate-on":"blur",label:"确认密码"},null,8,["modelValue","rules"]),o(p,{class:"mt-2",color:"blue-lighten-1",disabled:u.loading,loading:u.loading,onClick:m.save,text:"保存"},null,8,["disabled","loading","onClick"])])),_:1},512)])),_:1})}]]);export{n as default};
