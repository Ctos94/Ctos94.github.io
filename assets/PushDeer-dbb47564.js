import{i as e,k as a,j as t,n as l,l as u,A as n,e as s,w as r,r as d,o as i,h as o,b as c,d as v,p as m}from"./index-34813d37.js";const p="pushdeer_key",h={__name:"PushDeer",setup(h){const f=e(),g=a(null),k=a(null),y=a("");t((()=>{f.commit("update_sider_active","/user/pushdeer")})),l((()=>{u.get({url:n.user.attribute.get,params:{name:p},loading:{target:"#input"}}).then((e=>{y.value=e}))}));const _=()=>{u.delete({url:n.user.attribute.delete,data:{name:p},loading:{target:"#input"}}).then((()=>{y.value=""}))};return(e,a)=>{const t=d("v-btn"),l=d("v-text-field"),h=d("v-confirm-edit"),f=d("v-form"),b=d("v-sheet"),V=d("v-container");return i(),s(V,null,{default:r((()=>[a[2]||(a[2]=o("h3",null,[c(" 在使用前请先了解什么是"),o("a",{href:"https://github.com/easychen/pushdeer",target:"_blank"},"PushDeer"),c("，本功能使用官方在线版本。 ")],-1)),v(b,null,{default:r((()=>[v(f,{id:"input",ref_key:"formRef",ref:g,style:{width:"60%"}},{default:r((()=>[v(h,{modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=e=>y.value=e),ref_key:"editRef",ref:k},{default:r((({model:d,actions:o,isPristine:c})=>[v(l,{"hide-details":"",density:"compact",variant:"outlined",class:"my-4",rules:[e.$validator.required],label:"Key",modelValue:d.value,"onUpdate:modelValue":e=>d.value=e},{append:r((()=>[y.value&&c?m("",!0):(i(),s(t,{key:0,color:"blue-lighten-1",onClick:e=>(async e=>{const{valid:a}=await g.value.validate();a&&u.post({url:n.user.attribute.save,data:{name:p,value:e},loading:{target:"#input"}}).then((()=>{k.value.save()}))})(d.value),text:"保存"},null,8,["onClick"])),c?m("",!0):(i(),s(t,{key:1,class:"ml-2",color:"grey-lighten-3",onClick:a[0]||(a[0]=e=>k.value.cancel()),text:"取消"})),y.value&&c?(i(),s(t,{key:2,color:"red-darken-1",onClick:_,text:"删除"})):m("",!0)])),_:2},1032,["rules","modelValue","onUpdate:modelValue"])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1})}}};export{h as default};
