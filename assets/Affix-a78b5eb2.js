import{_ as y,H as A,A as f,o as n,c as u,h as a,b as i,w as l,F as m,M as x,E as V,O as k,G as w,a as d,n as B,e as b,t as C,P as E}from"./index-d815b49d.js";/* empty css                   *//* empty css               *//* empty css                  *//* empty css                 */const L={setup(){A().commit("update_sider_openeds","DIABLO4_CORE_AFFIXES")},components:{},data(){return{dialogBtnLoading:!1,dialogVisible:!1,queryArgs:{keyword:""},importUrl:"",list:[],filterList:[]}},mounted(){this.fetchAffixes()},methods:{importAffix(){!this.importUrl||this.importUrl===""||(this.dialogBtnLoading=!0,this.$request.post({url:f.diablo4.core.import_data,data:{url:this.importUrl,type:"AFFIXES"}}).then(()=>{this.fetchAffixes()}).finally(()=>{this.dialogBtnLoading=!1,this.dialogVisible=!1}))},fetchAffixes(){this.$request.get({url:f.diablo4.core.affixes,params:{...this.queryArgs}}).then(s=>{this.list=s,this.$nextTick(()=>{this.filterAffixes()})})},filterAffixes(){this.filterList=this.list.filter(s=>{let e=!0;return this.queryArgs.keyword&&(e=s.descTpl.includes(this.queryArgs.keyword)),e})}},watch:{queryArgs:{handler:"filterAffixes",deep:!0}}},U={class:"header"},q={class:"grid-content"},v={class:"dialog-footer"};function F(s,e,I,S,t,c){const p=x,r=V,_=E,g=k,h=w;return n(),u(m,null,[a("div",U,[i(p,{style:{width:"300px",height:"32px",marginRight:"12px"},modelValue:t.queryArgs.keyword,"onUpdate:modelValue":e[0]||(e[0]=o=>t.queryArgs.keyword=o)},null,8,["modelValue"]),i(r,{type:"primary",onClick:e[1]||(e[1]=o=>t.dialogVisible=!0)},{default:l(()=>[d(" 从暗黑核导入 ")]),_:1})]),i(g,{gutter:20},{default:l(()=>[(n(!0),u(m,null,B(t.filterList,o=>(n(),b(_,{key:o.id,span:8},{default:l(()=>[a("div",q,C(o.descTpl),1)]),_:2},1024))),128))]),_:1}),i(h,{modelValue:t.dialogVisible,"onUpdate:modelValue":e[4]||(e[4]=o=>t.dialogVisible=o),"show-close":!1,onClosed:e[5]||(e[5]=o=>t.importUrl=""),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"500"},{footer:l(()=>[a("div",v,[i(r,{loading:t.dialogBtnLoading,onClick:e[3]||(e[3]=o=>t.dialogVisible=!1)},{default:l(()=>[d("Cancel")]),_:1},8,["loading"]),i(r,{loading:t.dialogBtnLoading,type:"primary",onClick:c.importAffix},{default:l(()=>[d(" Confirm ")]),_:1},8,["loading","onClick"])])]),default:l(()=>[i(p,{placeholder:"暗黑核词缀接口地址",modelValue:t.importUrl,"onUpdate:modelValue":e[2]||(e[2]=o=>t.importUrl=o)},null,8,["modelValue"])]),_:1},8,["modelValue"])],64)}const X=y(L,[["render",F],["__scopeId","data-v-c96843da"]]);export{X as default};
