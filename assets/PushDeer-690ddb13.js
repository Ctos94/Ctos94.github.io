import{_ as e,A as t,r as a,o as l,e as s,w as u,b as r,l as i,h as n,a as d}from"./index-e40139dd.js";const o="pushdeer_key",c={data:()=>({value:""}),beforeMount(){this.$store.commit("update_sider_active","/user/pushdeer")},mounted(){this.$request.get({url:t.user.attribute.get,params:{name:o},loading:{target:"#input"}}).then((e=>{this.value=e}))},methods:{async save(e){const{valid:a}=await this.$refs.form.validate();a&&this.$request.post({url:t.user.attribute.save,data:{name:o,value:e},loading:{target:"#input"}}).then((()=>{this.$refs.edit.save()}))},del:function(){this.$request.delete({url:t.user.attribute.delete,data:{name:o},loading:{target:"#input"}}).then((()=>{this.value=""}))}}},h=n("h3",null,[d(" 在使用前请先了解什么是"),n("a",{href:"https://github.com/easychen/pushdeer",target:"_blank"},"PushDeer"),d("，本功能使用官方在线版本。 ")],-1);const m=e(c,[["render",function(e,t,n,d,o,c){const m=a("v-btn"),v=a("v-text-field"),f=a("v-confirm-edit"),p=a("v-form"),g=a("v-sheet"),k=a("v-container");return l(),s(k,null,{default:u((()=>[h,r(g,null,{default:u((()=>[r(p,{id:"input",ref:"form",style:{width:"60%"}},{default:u((()=>[r(f,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),ref:"edit"},{default:u((({model:a,actions:n,isPristine:d})=>[r(v,{"hide-details":"",density:"compact",variant:"outlined",class:"my-4",rules:[e.$validator.required],label:"Key",modelValue:a.value,"onUpdate:modelValue":e=>a.value=e},{append:u((()=>[o.value&&d?i("",!0):(l(),s(m,{key:0,color:"blue-lighten-1",onClick:e=>c.save(a.value),text:"保存"},null,8,["onClick"])),d?i("",!0):(l(),s(m,{key:1,class:"ml-2",color:"grey-lighten-3",onClick:t[0]||(t[0]=t=>e.$refs.edit.cancel()),text:"取消"})),o.value&&d?(l(),s(m,{key:2,color:"red-darken-1",onClick:c.del,text:"删除"},null,8,["onClick"])):i("",!0)])),_:2},1032,["rules","modelValue","onUpdate:modelValue"])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1})}]]);export{m as default};
