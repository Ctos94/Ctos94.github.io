import{_ as h,r as a,o as m,e as p,w as o,b as c,f as v,C as y,c as S,F as T,n as x,D as f,h as C,t as b}from"./index-d815b49d.js";const I={name:"TreeSelectItem",inject:["itemTitle","itemValue","expand","itemClick"],props:{item:{}},emits:["expand","node-click"]};function w(e,n,t,g,k,l){const d=a("v-icon"),u=a("v-list-item"),_=a("TreeSelectItem",!0),i=a("v-list-group");return m(),p(i,{value:t.item[l.itemValue],"append-icon":"none"},{activator:o(({isOpen:s})=>[c(u,{onClick:n[1]||(n[1]=v(r=>l.itemClick(t.item),["stop"])),title:t.item[l.itemTitle],value:t.item[l.itemValue]},y({_:2},[t.item&&t.item.children&&t.item.children.length>0?{name:"prepend",fn:o(()=>[c(d,{class:"icon",onClick:n[0]||(n[0]=v(r=>l.expand(t.item),["stop"])),icon:s?"mdi-menu-down":"mdi-menu-right"},null,8,["icon"])]),key:"0"}:void 0]),1032,["title","value"])]),default:o(()=>[(m(!0),S(T,null,x(t.item.children,(s,r)=>(m(),p(_,{key:r,item:s},null,8,["item"]))),128))]),_:1},8,["value"])}const V=h(I,[["render",w],["__scopeId","data-v-027e0602"]]);const B={components:{TreeSelectItem:V},provide(){return{itemTitle:f(()=>this.itemTitle),itemValue:f(()=>this.itemValue),expand:this.expand,itemClick:this.handleNodeClick}},props:{label:{type:String,default:"Select"},items:{type:Array,default:function(){return[]}},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},modelValue:""},emits:["update:modelValue"],data:()=>({value:[],opened:[]}),methods:{expand(e){let n=this.opened.indexOf(e[this.itemValue]);n!=-1?this.opened.splice(n,1):this.opened.push(e[this.itemValue])},handleNodeClick(e){this.value=[e]}},watch:{value(e){this.$emit("update:modelValue",e?e[0][this.itemValue]:""),this.$refs.select&&this.$refs.select.blur()}}};function N(e,n,t,g,k,l){const d=V,u=a("v-list"),_=a("v-select");return m(),p(_,{ref:"select",label:t.label,modelValue:e.value,"onUpdate:modelValue":n[1]||(n[1]=i=>e.value=i),items:t.items,clearable:""},{selection:o(({item:i})=>[C("span",null,b(i[t.itemTitle]),1)]),item:o(({item:i})=>[c(u,{opened:e.opened,"onUpdate:opened":n[0]||(n[0]=s=>e.opened=s),density:"compact"},{default:o(()=>[c(d,{item:i.raw},null,8,["item"])]),_:2},1032,["opened"])]),_:1},8,["label","modelValue","items"])}const F=h(B,[["render",N],["__scopeId","data-v-b63ca5a3"]]);export{F as _};
