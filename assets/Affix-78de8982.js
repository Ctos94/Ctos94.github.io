import{_ as e,u as i,A as l,c as t,h as s,a as o,w as a,F as r,U as d,Z as n,W as u,X as f,o as p,b as c,y as h,e as m,x as g,Y as y}from"./index-73ede130.js";/* empty css                   *//* empty css               *//* empty css                  */const A={class:"header"},x={class:"grid-content"},V={class:"dialog-footer"};const _=e({setup(){i().commit("update_sider_openeds","DIABLO4_CORE_AFFIXES")},components:{},data:()=>({dialogBtnLoading:!1,dialogVisible:!1,queryArgs:{keyword:""},importUrl:"",list:[],filterList:[]}),mounted(){this.fetchAffixes()},methods:{importAffix(){this.importUrl&&""!==this.importUrl&&(this.dialogBtnLoading=!0,this.$request.post({url:l.diablo4.core.import_data,data:{url:this.importUrl,type:"AFFIXES"}}).then((()=>{this.fetchAffixes()})).finally((()=>{this.dialogBtnLoading=!1,this.dialogVisible=!1})))},fetchAffixes(){this.$request.get({url:l.diablo4.core.affixes,params:{...this.queryArgs}}).then((e=>{this.list=e,this.$nextTick((()=>{this.filterAffixes()}))}))},filterAffixes(){this.filterList=this.list.filter((e=>{let i=!0;return this.queryArgs.keyword&&(i=e.descTpl.includes(this.queryArgs.keyword)),i}))}},watch:{queryArgs:{handler:"filterAffixes",deep:!0}}},[["render",function(e,i,l,_,k,w){const U=d,b=n,q=y,L=u,C=f;return p(),t(r,null,[s("div",A,[o(U,{style:{width:"300px",height:"32px",marginRight:"12px"},modelValue:k.queryArgs.keyword,"onUpdate:modelValue":i[0]||(i[0]=e=>k.queryArgs.keyword=e)},null,8,["modelValue"]),o(b,{type:"primary",onClick:i[1]||(i[1]=e=>k.dialogVisible=!0)},{default:a((()=>[c(" 从暗黑核导入 ")])),_:1})]),o(L,{gutter:20},{default:a((()=>[(p(!0),t(r,null,h(k.filterList,(e=>(p(),m(q,{key:e.id,span:8},{default:a((()=>[s("div",x,g(e.descTpl),1)])),_:2},1024)))),128))])),_:1}),o(C,{modelValue:k.dialogVisible,"onUpdate:modelValue":i[4]||(i[4]=e=>k.dialogVisible=e),"show-close":!1,onClosed:i[5]||(i[5]=e=>k.importUrl=""),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"500"},{footer:a((()=>[s("div",V,[o(b,{loading:k.dialogBtnLoading,onClick:i[3]||(i[3]=e=>k.dialogVisible=!1)},{default:a((()=>[c("Cancel")])),_:1},8,["loading"]),o(b,{loading:k.dialogBtnLoading,type:"primary",onClick:w.importAffix},{default:a((()=>[c(" Confirm ")])),_:1},8,["loading","onClick"])])])),default:a((()=>[o(U,{placeholder:"暗黑核词缀接口地址",modelValue:k.importUrl,"onUpdate:modelValue":i[2]||(i[2]=e=>k.importUrl=e)},null,8,["modelValue"])])),_:1},8,["modelValue"])],64)}],["__scopeId","data-v-c96843da"]]);export{_ as default};
